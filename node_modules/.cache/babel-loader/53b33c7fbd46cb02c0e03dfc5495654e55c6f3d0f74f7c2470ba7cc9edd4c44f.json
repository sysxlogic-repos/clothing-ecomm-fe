{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sumit\\\\ecomm\\\\src\\\\pages\\\\customer\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport { Phone, Lock, ArrowLeft, Eye, EyeOff } from 'lucide-react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { ButtonSpinner } from '../../components/common/LoadingSpinner';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  var _location$state;\n  const [step, setStep] = useState('phone'); // 'phone' or 'otp'\n  const [formData, setFormData] = useState({\n    phoneNumber: '',\n    otp: '',\n    countryCode: '+1'\n  });\n  const [otpTimer, setOtpTimer] = useState(0);\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    login,\n    sendOTP,\n    isAuthenticated\n  } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.from) || '/';\n\n  // Redirect if already authenticated\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate(from, {\n        replace: true\n      });\n    }\n  }, [isAuthenticated, navigate, from]);\n\n  // OTP Timer\n  useEffect(() => {\n    let interval;\n    if (otpTimer > 0) {\n      interval = setInterval(() => {\n        setOtpTimer(prev => prev - 1);\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [otpTimer]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const formatPhoneNumber = value => {\n    // Remove all non-digits\n    const digits = value.replace(/\\D/g, '');\n\n    // Format as (XXX) XXX-XXXX\n    if (digits.length >= 6) {\n      return `(${digits.slice(0, 3)}) ${digits.slice(3, 6)}-${digits.slice(6, 10)}`;\n    } else if (digits.length >= 3) {\n      return `(${digits.slice(0, 3)}) ${digits.slice(3)}`;\n    } else {\n      return digits;\n    }\n  };\n  const handlePhoneChange = e => {\n    const formatted = formatPhoneNumber(e.target.value);\n    setFormData(prev => ({\n      ...prev,\n      phoneNumber: formatted\n    }));\n  };\n  const handleSendOTP = async e => {\n    e.preventDefault();\n    const phoneDigits = formData.phoneNumber.replace(/\\D/g, '');\n    if (phoneDigits.length !== 10) {\n      toast.error('Please enter a valid 10-digit phone number');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const fullPhoneNumber = `${formData.countryCode}${phoneDigits}`;\n      const result = await sendOTP(fullPhoneNumber);\n      if (result.success) {\n        setStep('otp');\n        setOtpTimer(60); // 60 seconds timer\n        toast.success('OTP sent successfully!');\n      }\n    } catch (error) {\n      console.error('Send OTP error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleVerifyOTP = async e => {\n    e.preventDefault();\n    if (formData.otp.length !== 6) {\n      toast.error('Please enter a valid 6-digit OTP');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const phoneDigits = formData.phoneNumber.replace(/\\D/g, '');\n      const fullPhoneNumber = `${formData.countryCode}${phoneDigits}`;\n      const result = await login(fullPhoneNumber, formData.otp);\n      if (result.success) {\n        navigate(from, {\n          replace: true\n        });\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleResendOTP = async () => {\n    if (otpTimer > 0) return;\n    setIsLoading(true);\n    try {\n      const phoneDigits = formData.phoneNumber.replace(/\\D/g, '');\n      const fullPhoneNumber = `${formData.countryCode}${phoneDigits}`;\n      const result = await sendOTP(fullPhoneNumber);\n      if (result.success) {\n        setOtpTimer(60);\n        toast.success('OTP resent successfully!');\n      }\n    } catch (error) {\n      console.error('Resend OTP error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleBackToPhone = () => {\n    setStep('phone');\n    setFormData(prev => ({\n      ...prev,\n      otp: ''\n    }));\n    setOtpTimer(0);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Sign In - Women's Fashion Store\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"Sign in to your account to access your orders, wishlist, and personalized recommendations.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"robots\",\n        content: \"noindex, nofollow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-secondary-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sm:mx-auto sm:w-full sm:max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"flex items-center justify-center space-x-2 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-white font-bold text-xl\",\n              children: \"F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-2xl font-bold text-secondary-900\",\n            children: \"FashionStore\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-secondary-900\",\n            children: step === 'phone' ? 'Welcome Back' : 'Verify Your Phone'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-sm text-secondary-600\",\n            children: step === 'phone' ? 'Enter your phone number to sign in' : `We sent a 6-digit code to ${formData.phoneNumber}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 sm:mx-auto sm:w-full sm:max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10\",\n          children: [step === 'phone' ?\n          /*#__PURE__*/\n          /* Phone Number Step */\n          _jsxDEV(\"form\", {\n            onSubmit: handleSendOTP,\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"phoneNumber\",\n                className: \"block text-sm font-medium text-secondary-700\",\n                children: \"Phone Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1 flex rounded-lg shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  name: \"countryCode\",\n                  value: formData.countryCode,\n                  onChange: handleInputChange,\n                  className: \"rounded-l-lg border border-r-0 border-secondary-300 bg-secondary-50 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"+1\",\n                    children: \"\\uD83C\\uDDFA\\uD83C\\uDDF8 +1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"+44\",\n                    children: \"\\uD83C\\uDDEC\\uD83C\\uDDE7 +44\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"+91\",\n                    children: \"\\uD83C\\uDDEE\\uD83C\\uDDF3 +91\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"+86\",\n                    children: \"\\uD83C\\uDDE8\\uD83C\\uDDF3 +86\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"phoneNumber\",\n                    name: \"phoneNumber\",\n                    type: \"tel\",\n                    value: formData.phoneNumber,\n                    onChange: handlePhoneChange,\n                    placeholder: \"(555) 123-4567\",\n                    className: \"block w-full rounded-r-lg border border-secondary-300 pl-10 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Phone, {\n                    className: \"absolute left-3 top-2.5 h-5 w-5 text-secondary-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: isLoading,\n              className: \"w-full btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: isLoading ? /*#__PURE__*/_jsxDEV(ButtonSpinner, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Send OTP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Phone, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this) :\n          /*#__PURE__*/\n          /* OTP Verification Step */\n          _jsxDEV(\"form\", {\n            onSubmit: handleVerifyOTP,\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleBackToPhone,\n              className: \"flex items-center space-x-2 text-primary-600 hover:text-primary-700 text-sm font-medium\",\n              children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Change phone number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"otp\",\n                className: \"block text-sm font-medium text-secondary-700\",\n                children: \"Verification Code\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1 relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"otp\",\n                  name: \"otp\",\n                  type: showPassword ? 'text' : 'password',\n                  value: formData.otp,\n                  onChange: handleInputChange,\n                  placeholder: \"Enter 6-digit code\",\n                  maxLength: 6,\n                  className: \"block w-full pl-10 pr-10 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-center text-lg tracking-widest\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Lock, {\n                  className: \"absolute left-3 top-2.5 h-5 w-5 text-secondary-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => setShowPassword(!showPassword),\n                  className: \"absolute right-3 top-2.5 text-secondary-400 hover:text-secondary-600\",\n                  children: showPassword ? /*#__PURE__*/_jsxDEV(EyeOff, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 39\n                  }, this) : /*#__PURE__*/_jsxDEV(Eye, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 62\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: otpTimer > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-secondary-600\",\n                children: [\"Resend code in \", otpTimer, \" seconds\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleResendOTP,\n                disabled: isLoading,\n                className: \"text-sm text-primary-600 hover:text-primary-700 font-medium disabled:opacity-50\",\n                children: \"Didn't receive the code? Resend\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: isLoading || formData.otp.length !== 6,\n              className: \"w-full btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: isLoading ? /*#__PURE__*/_jsxDEV(ButtonSpinner, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Verify & Sign In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Lock, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 flex items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full border-t border-secondary-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative flex justify-center text-sm\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 bg-white text-secondary-500\",\n                  children: \"New to FashionStore?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/signup\",\n                className: \"w-full btn-outline text-center block\",\n                children: \"Create an Account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-secondary-500\",\n            children: [\"By signing in, you agree to our\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/terms\",\n              className: \"text-primary-600 hover:text-primary-700\",\n              children: \"Terms of Service\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this), ' ', \"and\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/privacy\",\n              className: \"text-primary-600 hover:text-primary-700\",\n              children: \"Privacy Policy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(LoginPage, \"telL4+x9wheCo6V992LiilRZAmE=\", false, function () {\n  return [useAuth, useNavigate, useLocation];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useLocation","Helmet","Phone","Lock","ArrowLeft","Eye","EyeOff","useAuth","ButtonSpinner","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginPage","_s","_location$state","step","setStep","formData","setFormData","phoneNumber","otp","countryCode","otpTimer","setOtpTimer","showPassword","setShowPassword","isLoading","setIsLoading","login","sendOTP","isAuthenticated","navigate","location","from","state","replace","interval","setInterval","prev","clearInterval","handleInputChange","e","name","value","target","formatPhoneNumber","digits","length","slice","handlePhoneChange","formatted","handleSendOTP","preventDefault","phoneDigits","error","fullPhoneNumber","result","success","console","handleVerifyOTP","handleResendOTP","handleBackToPhone","children","fileName","_jsxFileName","lineNumber","columnNumber","content","className","to","onSubmit","htmlFor","onChange","id","type","placeholder","required","disabled","size","onClick","maxLength","_c","$RefreshReg$"],"sources":["C:/Users/Sumit/ecomm/src/pages/customer/LoginPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport { Phone, Lock, ArrowLeft, Eye, EyeOff } from 'lucide-react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { ButtonSpinner } from '../../components/common/LoadingSpinner';\nimport toast from 'react-hot-toast';\n\nconst LoginPage = () => {\n  const [step, setStep] = useState('phone'); // 'phone' or 'otp'\n  const [formData, setFormData] = useState({\n    phoneNumber: '',\n    otp: '',\n    countryCode: '+1'\n  });\n  const [otpTimer, setOtpTimer] = useState(0);\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  \n  const { login, sendOTP, isAuthenticated } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  \n  const from = location.state?.from || '/';\n\n  // Redirect if already authenticated\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate(from, { replace: true });\n    }\n  }, [isAuthenticated, navigate, from]);\n\n  // OTP Timer\n  useEffect(() => {\n    let interval;\n    if (otpTimer > 0) {\n      interval = setInterval(() => {\n        setOtpTimer(prev => prev - 1);\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [otpTimer]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const formatPhoneNumber = (value) => {\n    // Remove all non-digits\n    const digits = value.replace(/\\D/g, '');\n    \n    // Format as (XXX) XXX-XXXX\n    if (digits.length >= 6) {\n      return `(${digits.slice(0, 3)}) ${digits.slice(3, 6)}-${digits.slice(6, 10)}`;\n    } else if (digits.length >= 3) {\n      return `(${digits.slice(0, 3)}) ${digits.slice(3)}`;\n    } else {\n      return digits;\n    }\n  };\n\n  const handlePhoneChange = (e) => {\n    const formatted = formatPhoneNumber(e.target.value);\n    setFormData(prev => ({\n      ...prev,\n      phoneNumber: formatted\n    }));\n  };\n\n  const handleSendOTP = async (e) => {\n    e.preventDefault();\n    \n    const phoneDigits = formData.phoneNumber.replace(/\\D/g, '');\n    if (phoneDigits.length !== 10) {\n      toast.error('Please enter a valid 10-digit phone number');\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const fullPhoneNumber = `${formData.countryCode}${phoneDigits}`;\n      const result = await sendOTP(fullPhoneNumber);\n      \n      if (result.success) {\n        setStep('otp');\n        setOtpTimer(60); // 60 seconds timer\n        toast.success('OTP sent successfully!');\n      }\n    } catch (error) {\n      console.error('Send OTP error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleVerifyOTP = async (e) => {\n    e.preventDefault();\n    \n    if (formData.otp.length !== 6) {\n      toast.error('Please enter a valid 6-digit OTP');\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const phoneDigits = formData.phoneNumber.replace(/\\D/g, '');\n      const fullPhoneNumber = `${formData.countryCode}${phoneDigits}`;\n      \n      const result = await login(fullPhoneNumber, formData.otp);\n      \n      if (result.success) {\n        navigate(from, { replace: true });\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleResendOTP = async () => {\n    if (otpTimer > 0) return;\n    \n    setIsLoading(true);\n    try {\n      const phoneDigits = formData.phoneNumber.replace(/\\D/g, '');\n      const fullPhoneNumber = `${formData.countryCode}${phoneDigits}`;\n      \n      const result = await sendOTP(fullPhoneNumber);\n      if (result.success) {\n        setOtpTimer(60);\n        toast.success('OTP resent successfully!');\n      }\n    } catch (error) {\n      console.error('Resend OTP error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleBackToPhone = () => {\n    setStep('phone');\n    setFormData(prev => ({ ...prev, otp: '' }));\n    setOtpTimer(0);\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>Sign In - Women's Fashion Store</title>\n        <meta name=\"description\" content=\"Sign in to your account to access your orders, wishlist, and personalized recommendations.\" />\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\n      </Helmet>\n\n      <div className=\"min-h-screen bg-secondary-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n        <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n          {/* Logo */}\n          <Link to=\"/\" className=\"flex items-center justify-center space-x-2 mb-8\">\n            <div className=\"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center\">\n              <span className=\"text-white font-bold text-xl\">F</span>\n            </div>\n            <span className=\"text-2xl font-bold text-secondary-900\">FashionStore</span>\n          </Link>\n\n          {/* Header */}\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-bold text-secondary-900\">\n              {step === 'phone' ? 'Welcome Back' : 'Verify Your Phone'}\n            </h2>\n            <p className=\"mt-2 text-sm text-secondary-600\">\n              {step === 'phone' \n                ? 'Enter your phone number to sign in'\n                : `We sent a 6-digit code to ${formData.phoneNumber}`\n              }\n            </p>\n          </div>\n        </div>\n\n        <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n          <div className=\"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10\">\n            {step === 'phone' ? (\n              /* Phone Number Step */\n              <form onSubmit={handleSendOTP} className=\"space-y-6\">\n                {/* Country Code & Phone Number */}\n                <div>\n                  <label htmlFor=\"phoneNumber\" className=\"block text-sm font-medium text-secondary-700\">\n                    Phone Number\n                  </label>\n                  <div className=\"mt-1 flex rounded-lg shadow-sm\">\n                    <select\n                      name=\"countryCode\"\n                      value={formData.countryCode}\n                      onChange={handleInputChange}\n                      className=\"rounded-l-lg border border-r-0 border-secondary-300 bg-secondary-50 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                    >\n                      <option value=\"+1\">ðŸ‡ºðŸ‡¸ +1</option>\n                      <option value=\"+44\">ðŸ‡¬ðŸ‡§ +44</option>\n                      <option value=\"+91\">ðŸ‡®ðŸ‡³ +91</option>\n                      <option value=\"+86\">ðŸ‡¨ðŸ‡³ +86</option>\n                    </select>\n                    <div className=\"relative flex-1\">\n                      <input\n                        id=\"phoneNumber\"\n                        name=\"phoneNumber\"\n                        type=\"tel\"\n                        value={formData.phoneNumber}\n                        onChange={handlePhoneChange}\n                        placeholder=\"(555) 123-4567\"\n                        className=\"block w-full rounded-r-lg border border-secondary-300 pl-10 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                        required\n                      />\n                      <Phone className=\"absolute left-3 top-2.5 h-5 w-5 text-secondary-400\" />\n                    </div>\n                  </div>\n                </div>\n\n                <button\n                  type=\"submit\"\n                  disabled={isLoading}\n                  className=\"w-full btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {isLoading ? (\n                    <ButtonSpinner />\n                  ) : (\n                    <>\n                      <span>Send OTP</span>\n                      <Phone size={18} />\n                    </>\n                  )}\n                </button>\n              </form>\n            ) : (\n              /* OTP Verification Step */\n              <form onSubmit={handleVerifyOTP} className=\"space-y-6\">\n                {/* Back Button */}\n                <button\n                  type=\"button\"\n                  onClick={handleBackToPhone}\n                  className=\"flex items-center space-x-2 text-primary-600 hover:text-primary-700 text-sm font-medium\"\n                >\n                  <ArrowLeft size={16} />\n                  <span>Change phone number</span>\n                </button>\n\n                {/* OTP Input */}\n                <div>\n                  <label htmlFor=\"otp\" className=\"block text-sm font-medium text-secondary-700\">\n                    Verification Code\n                  </label>\n                  <div className=\"mt-1 relative\">\n                    <input\n                      id=\"otp\"\n                      name=\"otp\"\n                      type={showPassword ? 'text' : 'password'}\n                      value={formData.otp}\n                      onChange={handleInputChange}\n                      placeholder=\"Enter 6-digit code\"\n                      maxLength={6}\n                      className=\"block w-full pl-10 pr-10 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-center text-lg tracking-widest\"\n                      required\n                    />\n                    <Lock className=\"absolute left-3 top-2.5 h-5 w-5 text-secondary-400\" />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowPassword(!showPassword)}\n                      className=\"absolute right-3 top-2.5 text-secondary-400 hover:text-secondary-600\"\n                    >\n                      {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\n                    </button>\n                  </div>\n                </div>\n\n                {/* Resend OTP */}\n                <div className=\"text-center\">\n                  {otpTimer > 0 ? (\n                    <p className=\"text-sm text-secondary-600\">\n                      Resend code in {otpTimer} seconds\n                    </p>\n                  ) : (\n                    <button\n                      type=\"button\"\n                      onClick={handleResendOTP}\n                      disabled={isLoading}\n                      className=\"text-sm text-primary-600 hover:text-primary-700 font-medium disabled:opacity-50\"\n                    >\n                      Didn't receive the code? Resend\n                    </button>\n                  )}\n                </div>\n\n                <button\n                  type=\"submit\"\n                  disabled={isLoading || formData.otp.length !== 6}\n                  className=\"w-full btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {isLoading ? (\n                    <ButtonSpinner />\n                  ) : (\n                    <>\n                      <span>Verify & Sign In</span>\n                      <Lock size={18} />\n                    </>\n                  )}\n                </button>\n              </form>\n            )}\n\n            {/* Footer */}\n            <div className=\"mt-6\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <div className=\"w-full border-t border-secondary-300\" />\n                </div>\n                <div className=\"relative flex justify-center text-sm\">\n                  <span className=\"px-2 bg-white text-secondary-500\">New to FashionStore?</span>\n                </div>\n              </div>\n\n              <div className=\"mt-6\">\n                <Link\n                  to=\"/signup\"\n                  className=\"w-full btn-outline text-center block\"\n                >\n                  Create an Account\n                </Link>\n              </div>\n            </div>\n          </div>\n\n          {/* Help Text */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-xs text-secondary-500\">\n              By signing in, you agree to our{' '}\n              <Link to=\"/terms\" className=\"text-primary-600 hover:text-primary-700\">\n                Terms of Service\n              </Link>{' '}\n              and{' '}\n              <Link to=\"/privacy\" className=\"text-primary-600 hover:text-primary-700\">\n                Privacy Policy\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default LoginPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}